#!/bin/bash

# 微信公众号文章抓取工具 - Web版启动脚本

echo "========================================"
echo "  微信公众号文章抓取工具 - Web版"
echo "========================================"
echo ""

# 检查端口3001是否被占用
if lsof -Pi :3001 -sTCP:LISTEN -t >/dev/null ; then
    echo "⚠️  端口3001已被占用，正在尝试端口3002..."
    PORT=3002
else
    PORT=3001
fi

# 启动服务器
echo "🚀 正在启动服务器..."
echo ""

PORT=$PORT npm start

echo ""
echo "========================================"
echo "  按 Ctrl+C 停止服务器"
echo "========================================"

